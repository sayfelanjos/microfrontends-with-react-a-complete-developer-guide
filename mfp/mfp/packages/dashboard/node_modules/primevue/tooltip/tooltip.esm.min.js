import{ObjectUtils as t,ZIndexUtils as e,DomHandler as o,UniqueComponentId as l,ConnectedOverlayScrollHandler as i}from"primevue/utils";function n(t){s(t.currentTarget)}function p(t){c(t.currentTarget)}function u(t){s(t.currentTarget)}function r(t){c(t.currentTarget)}function a(t){c(t.currentTarget)}function s(t){if(t.$_ptooltipDisabled)return;let n=function(t){const e=l()+"_tooltip";t.$_ptooltipId=e;let o=document.createElement("div");o.id=e;let i=document.createElement("div");i.className="p-tooltip-arrow",o.appendChild(i);let n=document.createElement("div");n.className="p-tooltip-text",t.$_ptooltipEscape?n.innerHTML=t.$_ptooltipValue:(n.innerHTML="",n.appendChild(document.createTextNode(t.$_ptooltipValue)));o.appendChild(n),document.body.appendChild(o),o.style.display="inline-block",t.$_ptooltipFitContent&&(o.style.width="fit-content");return o}(t);!function(t){const e=t.$_ptooltipModifiers;e.top?(_(t),b(t)&&(m(t),b(t)&&_(t))):e.left?(g(t),b(t)&&($(t),b(t)&&(_(t),b(t)&&(m(t),b(t)&&g(t))))):e.bottom?(m(t),b(t)&&(_(t),b(t)&&m(t))):($(t),b(t)&&(g(t),b(t)&&(_(t),b(t)&&(m(t),b(t)&&$(t)))))}(t),o.fadeIn(n,250),window.addEventListener("resize",(function e(){o.isTouchDevice()||c(t),this.removeEventListener("resize",e)})),function(t){t.$_ptooltipScrollHandler||(t.$_ptooltipScrollHandler=new i(t,(function(){c(t)}))),t.$_ptooltipScrollHandler.bindScrollListener()}(t),e.set("tooltip",n,t.$_ptooltipZIndex)}function c(t){f(t),function(t){t.$_ptooltipScrollHandler&&t.$_ptooltipScrollHandler.unbindScrollListener()}(t)}function d(t){return document.getElementById(t.$_ptooltipId)}function f(t){if(t){let o=d(t);o&&o.parentElement&&(e.clear(o),document.body.removeChild(o)),t.$_ptooltipId=null}}function v(t){let e=t.getBoundingClientRect();return{left:e.left+o.getWindowScrollLeft(),top:e.top+o.getWindowScrollTop()}}function $(t){h(t,"right");let e=d(t),l=v(t),i=l.left+o.getOuterWidth(t),n=l.top+(o.getOuterHeight(t)-o.getOuterHeight(e))/2;e.style.left=i+"px",e.style.top=n+"px"}function g(t){h(t,"left");let e=d(t),l=v(t),i=l.left-o.getOuterWidth(e),n=l.top+(o.getOuterHeight(t)-o.getOuterHeight(e))/2;e.style.left=i+"px",e.style.top=n+"px"}function _(t){h(t,"top");let e=d(t),l=v(t),i=l.left+(o.getOuterWidth(t)-o.getOuterWidth(e))/2,n=l.top-o.getOuterHeight(e);e.style.left=i+"px",e.style.top=n+"px"}function m(t){h(t,"bottom");let e=d(t),l=v(t),i=l.left+(o.getOuterWidth(t)-o.getOuterWidth(e))/2,n=l.top+o.getOuterHeight(t);e.style.left=i+"px",e.style.top=n+"px"}function h(t,e){let o=d(t);o.style.left="-999px",o.style.top="-999px",o.className=`p-tooltip p-component p-tooltip-${e} ${t.$_ptooltipClass||""}`}function b(t){let e=d(t),l=e.getBoundingClientRect(),i=l.top,n=l.left,p=o.getOuterWidth(e),u=o.getOuterHeight(e),r=o.getViewport();return n+p>r.width||n<0||i<0||i+u>r.height}function y(t){return o.hasClass(t,"p-inputwrapper")?o.findSingle(t,"input"):t}function E(t){return t.modifiers&&Object.keys(t.modifiers).length?t.modifiers:t.arg&&"object"==typeof t.arg?Object.entries(t.arg).reduce(((t,[e,o])=>("event"!==e&&"position"!==e||(t[o]=!0),t)),{}):{}}const C={beforeMount(e,o){let l=y(e);if(l.$_ptooltipModifiers=E(o),o.value){if("string"==typeof o.value)l.$_ptooltipValue=o.value,l.$_ptooltipDisabled=!1,l.$_ptooltipEscape=!1,l.$_ptooltipClass=null,l.$_ptooltipFitContent=!0;else if("object"==typeof o.value&&o.value){if(t.isEmpty(o.value.value))return;l.$_ptooltipValue=o.value.value,l.$_ptooltipDisabled=!!o.value.disabled===o.value.disabled&&o.value.disabled,l.$_ptooltipEscape=!!o.value.escape===o.value.escape&&o.value.escape,l.$_ptooltipClass=o.value.class,l.$_ptooltipFitContent=!!o.value.fitContent!==o.value.fitContent||o.value.fitContent}l.$_ptooltipZIndex=o.instance.$primevue&&o.instance.$primevue.config&&o.instance.$primevue.config.zIndex.tooltip,function(t){t.$_ptooltipModifiers.focus?(t.addEventListener("focus",u),t.addEventListener("blur",r)):(t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",p),t.addEventListener("click",a))}(l)}},unmounted(t){let o=y(t);f(o),function(t){t.$_ptooltipModifiers.focus?(t.removeEventListener("focus",u),t.removeEventListener("blur",r)):(t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",p),t.removeEventListener("click",a))}(o),o.$_ptooltipScrollHandler&&(o.$_ptooltipScrollHandler.destroy(),o.$_ptooltipScrollHandler=null),e.clear(t)},updated(e,o){let l=y(e);if(l.$_ptooltipModifiers=E(o),o.value)if("string"==typeof o.value)l.$_ptooltipValue=o.value,l.$_ptooltipDisabled=!1,l.$_ptooltipEscape=!1,l.$_ptooltipClass=null;else if("object"==typeof o.value&&o.value){if(t.isEmpty(o.value.value))return;l.$_ptooltipValue=o.value.value,l.$_ptooltipDisabled=!!o.value.disabled===o.value.disabled&&o.value.disabled,l.$_ptooltipEscape=!!o.value.escape===o.value.escape&&o.value.escape,l.$_ptooltipClass=o.value.class,l.$_ptooltipFitContent=!!o.value.fitContent!==o.value.fitContent||o.value.fitContent}}};export{C as default};
